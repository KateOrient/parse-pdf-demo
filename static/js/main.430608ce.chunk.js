(window["webpackJsonpreact-pdf-test"]=window["webpackJsonpreact-pdf-test"]||[]).push([[0],{21:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=21},27:function(e,t,n){e.exports=n.p+"static/media/test.ba02e324.pdf"},43:function(e,t,n){e.exports=n(95)},48:function(e,t,n){},52:function(e,t){},54:function(e,t){},55:function(e,t){},56:function(e,t){},57:function(e,t){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),s=n(36),c=n.n(s),i=(n(48),n(37)),u=n(38),l=n(39),d=n(41),p=n(40),f=n(42),m=n(18),g=(n(93),n(94),n(27)),b=n.n(g);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}m.pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";var v=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).onDocumentLoadSuccess=function(e){console.log(e),e.getMetadata().then(function(e){var t=e.info,a=(e.metadata,e.contentDispositionFilename,t.Title||n.state.pdf.name);n.setState({title:a})});var t=e.numPages;n.setState({numPages:t})},n.onPageRenderSuccess=function(e){e.getOperatorList().then(function(e){var t=e.argsArray[e.argsArray.length-1][0];n.setState({boundingBoxes:n.state.boundingBoxes&&0!==n.state.renderedPages?P({},n.state.boundingBoxes,{},t):t,renderedPages:n.state.renderedPages+1})})},n.uploadFile=function(e){var t=e.target.files[0],a=new FileReader;a.onload=n._onUploadEnd(t),t?a.readAsArrayBuffer(t):n.setState({pdf:null})},n.uploadPdf=function(){a.click()},n._onUploadEnd=function(e){n.setState({numPages:null,pageNumber:1,pdf:e})},n.state={numPages:null,pageNumber:1,pdf:b.a,title:b.a.name,boundingBoxes:null,renderedPages:0},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.state.renderedPages===this.state.numPages&&(console.log("BBoxes",this.state.boundingBoxes),this.setState({renderedPages:0}))}},{key:"_setRef",value:function(e){a=e}},{key:"render",value:function(){var e=this.state,t=e.pageNumber,n=e.numPages,a=e.title;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("button",{onClick:this.uploadPdf},"Upload other pdf"),o.a.createElement("input",{type:"file",onChange:this.uploadFile.bind(this),ref:this._setRef,style:{display:"none"}})),o.a.createElement("article",{className:"app-main-body"},o.a.createElement("div",{className:"pdf-data"},o.a.createElement("p",null,o.a.createElement("b",null,"Title: "),a),o.a.createElement("p",null,o.a.createElement("b",null,"Number of pages: "),n)),o.a.createElement("div",{className:"pdf-wrapper"},o.a.createElement(m.Document,{file:this.state.pdf,onLoadSuccess:this.onDocumentLoadSuccess,options:{cMapUrl:"//cdn.jsdelivr.net/npm/pdfjs-dist@".concat(m.pdfjs.version,"/cmaps/"),cMapPacked:!0}},function(e){for(var t=e.numPages,n=e.onPageRenderSuccess,a=[],r=1;r<=t;r++)a.push(o.a.createElement(m.Page,{className:"pdf-page",pageNumber:r,key:"page-".concat(r),renderAnnotationLayer:!0,renderInteractiveForms:!0,renderTextLayer:!0,onRenderSuccess:n,customTextRenderer:function(e){e.height,e.width,e.transform,e.scale,e.page;return e.str}}));return a}({pageNumber:t,numPages:n,onPageRenderSuccess:this.onPageRenderSuccess})))))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.430608ce.chunk.js.map