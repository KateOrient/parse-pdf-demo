(window["webpackJsonpreact-pdf-test"]=window["webpackJsonpreact-pdf-test"]||[]).push([[0],{21:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=21},27:function(e,t,n){e.exports=n.p+"static/media/test_2.abc38450.pdf"},45:function(e,t,n){e.exports=n(96)},50:function(e,t,n){},54:function(e,t){},56:function(e,t){},57:function(e,t){},58:function(e,t){},59:function(e,t){},95:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),s=n(37),i=n.n(s),c=(n(50),n(38)),l=n(39),d=n(40),u=n(43),p=n(41),m=n(44),f=n(19),g=(n(94),n(95),n(27)),h=n.n(g),y=n(42),b=n.n(y);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e){e.getOperatorList().then(function(t){var n=t.argsArray[t.argsArray.length-1][0];console.log("Data:",n);var a=document.getElementsByTagName("canvas")[e.pageIndex],r=a.getBoundingClientRect(),o=document.createElement("div");o.innerHTML="",o.style.top=r.y+"px",o.style.left=r.x+"px",o.style.height=r.height+"px",o.style.width=r.width+"px",o.style.position="absolute",o.id="div"+e.pageIndex,o.className="bbox-container",document.getElementById("container").appendChild(o),o=document.getElementById("div"+e.pageIndex),b.a.map(n,function(e,t){var n=document.createElement("div");n.style.top=parseInt(a.style.height,10)-e.y-e.height+"px",n.style.left=e.x+"px",n.style.height=e.height+"px",n.style.width=e.width+"px",n.style.position="absolute",n.className="bbox",n.id=t,o.appendChild(n)})})}f.pdfjs.GlobalWorkerOptions.workerSrc="pdf.worker.js";var E=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).onDocumentLoadSuccess=function(e){console.log(e),e.getMetadata().then(function(e){var t=e.info,a=(e.metadata,e.contentDispositionFilename,t.Title||n.state.pdf.name);n.setState({title:a})});var t=e.numPages;n.setState({numPages:t})},n.onPageRenderSuccess=function(e){e.getOperatorList().then(function(e){var t=e.argsArray[e.argsArray.length-1][0];n.setState({boundingBoxes:n.state.boundingBoxes&&0!==n.state.renderedPages?P({},n.state.boundingBoxes,{},t):t,renderedPages:n.state.renderedPages+1})})},n.uploadFile=function(e){var t=e.target.files[0],a=new FileReader;a.onload=n._onUploadEnd(t),t?a.readAsArrayBuffer(t):n.setState({pdf:null})},n.uploadPdf=function(){a.click()},n._onUploadEnd=function(e){document.getElementById("container").innerHTML="",n.setState({numPages:null,pageNumber:1,pdf:e})},n.state={numPages:null,pageNumber:1,pdf:h.a,title:h.a.name,boundingBoxes:null,renderedPages:0},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(){this.state.renderedPages===this.state.numPages&&(console.log("BBoxes",this.state.boundingBoxes),this.setState({renderedPages:0}))}},{key:"_setRef",value:function(e){a=e}},{key:"render",value:function(){var e=this.state,t=e.pageNumber,n=e.numPages,a=e.title;return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("button",{onClick:this.uploadPdf},"Upload other pdf"),o.a.createElement("input",{type:"file",onChange:this.uploadFile.bind(this),ref:this._setRef,style:{display:"none"}})),o.a.createElement("article",{className:"app-main-body"},o.a.createElement("div",{className:"pdf-data"},o.a.createElement("p",null,o.a.createElement("b",null,"Title: "),a),o.a.createElement("p",null,o.a.createElement("b",null,"Number of pages: "),n)),o.a.createElement("div",{className:"pdf-wrapper"},o.a.createElement(f.Document,{file:this.state.pdf,onLoadSuccess:this.onDocumentLoadSuccess,options:{cMapUrl:"//cdn.jsdelivr.net/npm/pdfjs-dist@".concat(f.pdfjs.version,"/cmaps/"),cMapPacked:!0}},function(e){for(var t=e.numPages,n=(e.onPageRenderSuccess,[]),a=1;a<=t;a++)n.push(o.a.createElement(f.Page,{className:"pdf-page",pageNumber:a,key:"page-".concat(a),renderAnnotationLayer:!0,renderInteractiveForms:!0,renderTextLayer:!0,onRenderSuccess:w,customTextRenderer:function(e){e.height,e.width,e.transform,e.scale,e.page;return e.str}}));return n}({pageNumber:t,numPages:n,onPageRenderSuccess:this.onPageRenderSuccess})))),o.a.createElement("div",{id:"container"}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.c39d08c0.chunk.js.map